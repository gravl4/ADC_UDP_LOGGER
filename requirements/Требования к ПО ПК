
Функционал программы:
Принимать пакеты по Ethernet, фиксированный IP и порт, с измерениями от внешнего микроконтроллера. протокол UDP. 
8 аналоговых 12бит и 16 дискретных сигналов.
частота выборок 1кГц-10Гц, задается.
Нужно сделать программу для просмотра в реальном времени с разверкой по времени 10мс, 100мс, 1с, 10с, 1мин, 10мин, 1час, 3час, 12час (главный кран),
Развертка по времени - это какой временной интервал отображается на графике. 
архивации без сжатия, каждый час новый файл - делает фоном всегда
просмотра архива по дате (второй экран) с изменяем разверткой по времени.
настройки программы (названия и цвет каналов, коэффициенты пересчёта в физическую величину) - просто текстовый файл.
дизайнерские изыски не нужны, просто одна темная тема.
не должна съедать ОЗУ и зависать.

на чем реализовать RUST + GTK
система х86
ОС Debian и подобные Mint, Ubuntu

формат сэмпла данных 
0x55 0х33 [packet id - 2 bytes] [ch0 - 2 bytes] [ch1] .. [ch8] [digital 0][digital 1] 
[packet id - 2 bytes]  - уникальный номер пакета с переполнением после 65536 идет 1
аналоговые данные 
[chx - 2 bytes] -  H байт, L байт - так удобнее смотреть в отладчике
аналоговые данные целочисленные от АЦП 12бит 
[digital x] (один байт)- цифровые сигналы. каждый бит - это один сигнал
полная длинна 22 байта

в одном пакете UDP 10..50 сэмплов данных.  
раз в 10сек синхронизировать время ПК и временных меток.  есть лишние сэмплы - взять среднее между лишними, не хватает сэмплов - поставить предыдущее значение.

пересчет в физ. величину 
y = k(x+b)+c
y - физ величина
x - данные АЦП
k, b, c - коэффициенты. 

Параметры настройки аналогового канала 
k, b, c - коэффициенты. 
цвет, название, отображать на главном экране 
мин. значение шкалы,
макс. значение. 
показывать ли шкалу на главном экране

Параметры настройки дискретного сигнала 
цвет, название, инвертирование (некоторые сигналы надо инвертировать). 

Глобальные настройки 
IP адрес, порт 
частота поступления пакетов:
1кГц, 100Гц, 10Гц. 

Особоенности:
Пакеты могут пропадать, 
Более старые пакеты могут приходить раньше новых

Как отрисовывать графики 
соединяем точки между собой линией. 
если не было пакета - ничего не отображаем в этом месте. 

для анализа надо видеть всплески и провалы, поэтому при переходе развертки от  
10мс -> 100мс ->  1с -> 10с -> 1мин -> ... 
в один пиксель экрана будет попадать много значений - показываем самое большое и самое маленькое. 

Время открытия архива - 10мс-1час - 1-2с, 1час-12час - 5-12с, но показывать % обработки.

Настройки каналов в архиве можно не хранить. 
Каждые сутки сохраняем в отдельном каталоге. 
Каждый час в отдельном файле. 

Данные накапливаем в оперативке до уровня 1-10МБ
потом записываем на диск. 
При закрытии программы или остановки записи накопленный данные записывается в файл. 
 
Аналоговые приборы показанные в примере программы - не нужны. 
только графики. 
для графиков - нижняя 2/3 крана
для дискретных сигналов верхняя 1/3 экрана.
Дискретные сигналы отобразаем тоже в виде графиков. 
Названия каналов показываем слева.
изыски в виде часов, значков, красивого дизайна - не нужны. просто кнопки с текстом - это нормально. 

Окно программы должно быть растягиваемым. 

При нажатии левой кнопки мыши на график - отображается вертикальная линия, рядом с названиями каналов показываем их мгновенные значение в точке где показана линия от мыши.
На главном экране есть кнопка пауза. Можно остановить графики на экране и поводить мышью и посмотреть мгновенные значения. Архив при этом пишется. 







  
